<script src="https://kit.fontawesome.com/3d595ac1c0.js" crossorigin="anonymous"></script>
<li id="post - <%= post._id%>">
   <p>
      <!-- Verifying the login and checking if the post is done by that user -->
      <% if(locals.user && post.user.id==locals.user.id){%>
         <small>
            <a class="delete-post-button" href="/posts/destroy/<%= post.id %>"><i class="fa-solid fa-trash"></i></a>
         </small>
                   <%}%>
         
            <%= post.content %>
               <br>
               <small>
                  <%= post.user.name %>
               </small>
               <!-- CHANGE :: display the likes of this post, if the user is logged in, then show the link to toggle likes,else, just show the cost  -->
               <br>
                 <!-- study about  the data attribute -->
               <small>
                  <%if (locals.user){ %>                                                          
                     <a class="toggle-like-button" data-likes="<%= post.likes.length %>" href="/likes/toggle/?id=<%=post._id%>&type=Post">
                        <i class="fa-solid fa-thumbs-up"></i> <%= post.likes.length %>
                      </a>
                  <% }else{ %>
                     <i class="fa-solid fa-thumbs-up"></i> <%= post.likes.length %>
                  <% } %>
               </small>
   </p>
   <div class="post-comments">
      <% if(locals.user){ %>
         <!-- let's give an id to the new comment form, we'll also need to make the same changes in home_posts.js where we're adding a post to the page -->
         <form id="post-<%= post._id %>-comments-form" action="/comments/create" method="post">
            <input type="text" name="content" placeholder="Type Here to add comment....">
            <input type="hidden" name="post" value="<%= post._id%>">
            <input type="submit" id ="Post-button" value="Add Comment">
         </form>

         <% } %>

            <div class="post-comments-list">
               <ul id="post-comments-<%= post._id %>">
                 <%- include('_comment') -%>
               </ul>
            </div>
   </div>
</li>